var myApp=angular.module("myApp",["ngRoute","ngTouch","ngStorage"]);myApp.config(function($routeProvider){$routeProvider.when("/",{templateUrl:"view/main.html",controller:"mainCtrl"}).when("/cart",{templateUrl:"view/cart.html",controller:"cartCtrl"}).when("/edit",{templateUrl:"view/edit.html",controller:"editCtrl"}).when("/add",{templateUrl:"view/add.html",controller:"addCtrl"}).otherwise({redirectTo:"/"})}),myApp.run(function($localStorage){$localStorage.list=$localStorage.list||[{name:"Milk 1l",cartBtn:!1,homeBtn:!1,addToCart:!1},{name:"Eggs Medium 12 pack",cartBtn:!1,homeBtn:!1,addToCart:!1},{name:"Fresh Basil",cartBtn:!1,homeBtn:!1,addToCart:!1},{name:"Wholegrain Bread 1 pkg",cartBtn:!1,homeBtn:!1,addToCart:!1},{name:"Ground Coffee 200g",cartBtn:!1,homeBtn:!1,addToCart:!1},{name:"Red Wine",cartBtn:!1,homeBtn:!1,addToCart:!1},{name:"Mozzarella Cheese 150g",cartBtn:!1,homeBtn:!1,addToCart:!1},{name:"Orange Juice 1l",cartBtn:!1,homeBtn:!1,addToCart:!1},{name:"Tomatoes",cartBtn:!1,homeBtn:!1,addToCart:!1}],$localStorage.cart=$localStorage.cart||[]}),myApp.controller("addCtrl",function($scope,$localStorage,$location){$scope.maxLength=27,$scope.newItem={name:"",cartBtn:!1,homeBtn:!1,addToCart:!1},$scope.cancel=function(){$location.path("/")},$scope.done=function(){""!==$scope.name&&$localStorage.list.push($scope.newItem)}}),myApp.controller("cartCtrl",function($scope,$localStorage){$scope.cart=$localStorage.cart;for(var i=0;i<$scope.cart.length;i++)$scope.cart[i].isDel=!1;$scope.showDelBtn=function(index){$scope.cart[index].isDel=!0},$scope.hideDelBtn=function(index){$scope.cart[index].isDel=!1},$scope.deleteCartItem=function(index){$scope.cart.splice(index,1),$localStorage.cart=$scope.cart}}),myApp.controller("editCtrl",function($scope,$localStorage,$location){$scope.list=$localStorage.list;for(var i=0;i<$scope.list.length;i++)$scope.list[i].edit=!0;$scope.remove=function(index){$scope.list.splice(index,1)},$scope.done=function(){$localStorage.list=$scope.list,$location.path("/")}}),myApp.controller("mainCtrl",function($scope,$localStorage){$scope.list=$localStorage.list,$scope.swipeRight=function(index){!0===$scope.list[index].homeBtn?($scope.list[index].homeBtn=!1,$localStorage.list=$scope.list):($scope.list[index].cartBtn=!0,$localStorage.list=$scope.list)},$scope.swipeLeft=function(index){!0===$scope.list[index].cartBtn?($scope.list[index].cartBtn=!1,$localStorage.list=$scope.list):($scope.list[index].homeBtn=!0,$localStorage.list=$scope.list)},$scope.addToCart=function(index){$localStorage.cart.push($scope.list[index]),$scope.list[index].cartBtn=!1,$localStorage.list=$scope.list}}),myApp.controller("navCtrl",function($scope,$timeout){$scope.vm={timeNow:new Date},setInterval(function(){$timeout(function(){$scope.vm.timeNow=new Date})},1e3),$scope.$watch($scope.vm.timeNow)});